<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Helper Functions for Simulation Studies • simhelpers</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Helper Functions for Simulation Studies">
<meta name="description" content="Calculates performance criteria measures and associated Monte Carlo standard errors for simulation results. Includes functions to help run simulation studies, following a general simulation workflow that closely aligns with the approach described by Morris, White, and Crowther (2019) &lt;DOI:10.1002/sim.8086&gt;. Also includes functions for calculating bootstrap confidence intervals (including normal, basic, studentized, percentile, bias-corrected, and bias-corrected-and-accelerated) with tidy output, as well as for extrapolating confidence interval coverage rates and hypothesis test rejection rates following techniques suggested by Boos and Zhang (2000) &lt;DOI:10.1080/01621459.2000.10474226&gt;.">
<meta property="og:description" content="Calculates performance criteria measures and associated Monte Carlo standard errors for simulation results. Includes functions to help run simulation studies, following a general simulation workflow that closely aligns with the approach described by Morris, White, and Crowther (2019) &lt;DOI:10.1002/sim.8086&gt;. Also includes functions for calculating bootstrap confidence intervals (including normal, basic, studentized, percentile, bias-corrected, and bias-corrected-and-accelerated) with tidy output, as well as for extrapolating confidence interval coverage rates and hypothesis test rejection rates following techniques suggested by Boos and Zhang (2000) &lt;DOI:10.1080/01621459.2000.10474226&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">simhelpers</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.9999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/MCSE.html">Simulation Performance Criteria and MCSE</a></li>
    <li><a class="dropdown-item" href="articles/simulation_workflow.html">Simulation Workflow</a></li>
    <li><a class="dropdown-item" href="articles/visualization.html">Presenting Results from Simulation Studies</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/meghapsimatrix/simhelpers/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="simhelpers">simhelpers<a class="anchor" aria-label="anchor" href="#simhelpers"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>Monte Carlo simulations are computer experiments designed to study the performance of statistical methods under known data-generating conditions (Morris, White, &amp; Crowther, 2019). Methodologists use simulations to examine questions such as: (1) how does ordinary least squares regression perform if errors are heteroskedastic? (2) how does the presence of missing data affect treatment effect estimates from a propensity score analysis? (3) how does cluster robust variance estimation perform when the number of clusters is small? To answer such questions, we conduct experiments by simulating thousands of datasets based on pseudo-random sampling, applying statistical methods, and evaluating how well those statistical methods recover the true data-generating conditions (Morris et al., 2019).</p>
<p>The goal of <code>simhelpers</code> is to assist in running simulation studies. The package includes two main tools. First, it includes a collection of functions to calculate measures of estimator performance such as bias, root mean squared error, rejection rates, and confidence interval coverage. The functions also calculate the associated Monte Carlo standard errors (MCSE) of the performance measures. These functions are divided into three major categories of performance criteria: absolute criteria, relative criteria, and criteria to evaluate hypothesis testing. The functions are designed to play well with <a href="https://dplyr.tidyverse.org/index.html" class="external-link"><code>dplyr</code></a> and fit easily into a <code>%&gt;%</code>-centric workflow (Wickham et al., 2019).</p>
<p>In addition to the set of functions that calculates performance measures and MCSE, the package includes some further convenience functions to assist in programming simulations. These include <code><a href="reference/bundle_sim.html">bundle_sim()</a></code>, which can be used to create a single function for running a simulation from component pieces. The function takes a function for generating data, a function for analyzing the data, and (optionally) a function for summarizing the results, and constructs a single function for running a full simulation given a set of parameter values and optional arguments, or what we call a “simulation driver.” The simulation driver function can then be applied to a parameter set using <code><a href="reference/evaluate_by_row.html">evaluate_by_row()</a></code> to execute simulations across multiple conditions.</p>
<p>Finally, the package also includes a function, <code><a href="reference/create_skeleton.html">create_skeleton()</a></code>, that generates a skeleton outline for a simulation study. Another function, <code><a href="reference/evaluate_by_row.html">evaluate_by_row()</a></code>, runs the simulation for each combination of conditions row by row. This function uses <a href="https://davisvaughan.github.io/furrr/reference/future_map2.html" class="external-link"><code>future_pmap()</code></a> from the <a href="https://davisvaughan.github.io/furrr/" class="external-link"><code>furrr</code></a> package, making it easy to run the simulation in parallel (Vaughan &amp; Dancho, 2018). The package also includes several datasets that contain results from example simulation studies.</p>
<p><img src="reference/figures/workflow.png"></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the latest release from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"simhelpers"</span><span class="op">)</span></span></code></pre></div>
<p>Install the development version from <a href="https://github.com/" class="external-link">GitHub</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"meghapsimatrix/simhelpers"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="related-work">Related Work<a class="anchor" aria-label="anchor" href="#related-work"></a>
</h2>
<p>Our explanation of MCSE formulas and our general simulation workflow is closely aligned with the approach described by Morris et al. (2019). We want to recognize several other R packages that offer functionality for conducting Monte Carlo simulation studies. In particular, the <a href="https://CRAN.R-project.org/package=rsimsum" class="external-link"><code>rsimsum</code></a> package (which has a lovely name that makes me hungry) also calculates Monte Carlo standard errors (Gasparini, 2018). The <a href="https://CRAN.R-project.org/package=SimDesign" class="external-link"><code>SimDesign</code></a> package implements a generate-analyze-summarize model for writing simulations, which provided inspiration for our <code><a href="reference/bundle_sim.html">bundle_sim()</a></code> tools. <a href="https://CRAN.R-project.org/package=SimDesign" class="external-link"><code>SimDesign</code></a> also includes tools for error handling and parallel computing (Chalmers, 2019).</p>
<p>In contrast to the two packages mentioned above, our package is designed to be used with <a href="https://dplyr.tidyverse.org/index.html" class="external-link"><code>dplyr</code></a>, <a href="https://tidyr.tidyverse.org/" class="external-link"><code>tidyr</code></a> and <a href="https://purrr.tidyverse.org/" class="external-link"><code>purrr</code></a> syntax (Wickham et al., 2019). The functions that calculate MCSEs are easy to run on grouped data. For parallel computing, <code><a href="reference/evaluate_by_row.html">evaluate_by_row()</a></code> uses the <a href="https://davisvaughan.github.io/furrr/" class="external-link"><code>furrr</code></a> and <a href="https://rstudio.github.io/promises/articles/futures.html" class="external-link"><code>future</code></a> packages (Bengtsson, 2020; Vaughan &amp; Dancho, 2018). Moreover, in contrast to the <code>rsimsum</code> and <code>SimDesign</code> packages, <code>simhelpers</code> provides jack-knife MCSE for variance estimators. It also provides jack-knife MCSE estimates for root mean squared error.</p>
<p>Another related project is <a href="https://declaredesign.org/" class="external-link"><code>DeclareDesign</code></a>, a suite of packages that allow users to declare and diagnose research designs, fabricate mock data, and explore tradeoffs between different designs (Blair et al., 2019). This project follows a similar model for how simulation studies are instantiated, but it uses a higher-level API, which is tailored for simulating certain specific types of research designs. In contrast, our package is a simpler set of general-purpose utility functions.</p>
<p>Other packages that have similar aims to <code>simhelpers</code> include: <a href="https://CRAN.R-project.org/package=MonteCarlo" class="external-link">MonteCarlo</a>, <a href="https://CRAN.R-project.org/package=parSim" class="external-link">parSim</a>, <a href="https://CRAN.R-project.org/package=simsalapar" class="external-link">simsalapar</a>, <a href="https://CRAN.R-project.org/package=simulator" class="external-link">simulator</a>, <a href="https://CRAN.R-project.org/package=simstudy" class="external-link">simstudy</a>, <a href="https://CRAN.R-project.org/package=simTool" class="external-link">simTool</a>, <a href="https://CRAN.R-project.org/package=simSummary" class="external-link">simSummary</a>, and <a href="https://CRAN.R-project.org/package=ezsim" class="external-link">ezsim</a>.</p>
</div>
</div>
<div class="section level1">
<h1 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h1>
<p>We are grateful for the feedback provided by Danny Gonzalez, <a href="https://sdlim.com/" class="external-link">Sangdon Lim</a>, Man Chen, and <a href="https://github.com/edbonneville" class="external-link">Edouard Bonneville</a>.</p>
</div>
<div class="section level1">
<h1 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h1>
<p>Bengtsson, H. (2020). future: Unified parallel and distributed processing in r for everyone. Retrieved from <a href="https://CRAN.R-project.org/package=future" class="external-link uri">https://CRAN.R-project.org/package=future</a></p>
<p>Blair, G., Cooper, J., Coppock, A., &amp; Humphreys, M. (2019). Declaring and diagnosing research designs. American Political Science Review, 113(3), 838–859. Retrieved from <a href="https://declaredesign.org/paper.pdf" class="external-link uri">https://declaredesign.org/paper.pdf</a></p>
<p>Chalmers, P. (2019). SimDesign: Structure for organizing Monte Carlo simulation designs. Retrieved from <a href="https://CRAN.R-project.org/package=SimDesign" class="external-link uri">https://CRAN.R-project.org/package=SimDesign</a></p>
<p>Gasparini, A. (2018). rsimsum: Summarise results from Monte Carlo simulation studies. Journal of Open Source Software, 3(26), 739. <a href="https://doi.org/10.21105/joss.00739" class="external-link uri">https://doi.org/10.21105/joss.00739</a></p>
<p>Morris, T. P., White, I. R., &amp; Crowther, M. J. (2019). Using simulation studies to evaluate statistical methods. Statistics in Medicine, 38(11), 2074–2102.</p>
<p>Vaughan, D., &amp; Dancho, M. (2018). furrr: Apply mapping functions in parallel using futures. Retrieved from <a href="https://CRAN.R-project.org/package=furrr" class="external-link uri">https://CRAN.R-project.org/package=furrr</a></p>
<p>Wickham, H., Averick, M., Bryan, J., Chang, W., McGowan, L. D., François, R., … Yutani, H. (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686. <a href="https://doi.org/10.21105/joss.01686" class="external-link uri">https://doi.org/10.21105/joss.01686</a></p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=simhelpers" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/meghapsimatrix/simhelpers/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/meghapsimatrix/simhelpers/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing simhelpers</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://meghapsimatrix.com/" class="external-link">Megha Joshi</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-7936-076X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>
<a href="https://www.jepusto.com/" class="external-link">James Pustejovsky</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0591-9465" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/meghapsimatrix/simhelpers/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/meghapsimatrix/simhelpers/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/meghapsimatrix/simhelpers?branch=master" class="external-link"><img src="https://codecov.io/gh/meghapsimatrix/simhelpers/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://CRAN.R-project.org/package=simhelpers" class="external-link"><img src="https://www.r-pkg.org/badges/version/simhelpers" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://CRAN.R-project.org/package=simhelpers" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/simhelpers"></a></li>
<li><a href="https://CRAN.R-project.org/package=simhelpers" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/last-month/simhelpers"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://meghapsimatrix.com/" class="external-link">Megha Joshi</a>, <a href="https://www.jepusto.com/" class="external-link">James Pustejovsky</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
